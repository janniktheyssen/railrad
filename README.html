<h1 id="railrad---calculate-the-acoustic-radiation-from-railway-track-using-pre-calculated-transfer-functions">RailRad - calculate the acoustic radiation from railway track using pre-calculated transfer functions</h1>
<p>A toolbox to evaluate the acoustic radiation from railway tracks at a set of receiver points via pre-calculated transfer functions. The calculation requires information about the surface normal velocities in frequency and wavenumber domain beforehand (e.g., evaluated with a Waveguide Finite Element model).</p>
<h2 id="the-database-class">The Database Class</h2>
<p>Create a Class object to manage access to and processing of a database of pre-calculated transfer functions via</p>
<pre><code>Database(path)</code></pre>
<p>and where <code>path</code> is the path to a RailRad database. Provide the desired frequency and wavenumber discretisation and the desired source and receiver node indices in</p>
<pre><code>Database.setup(f, k, receiver_nodes=[], source_nodes=[])</code></pre>
<p>where the empty list <code>[]</code> can be used to indicate that all sources and/or receivers in the database should be used. Now the relevant acoustic transfer functions for the given frequency- and wavenumber discretisation and the specified source and receiver nodes can be generated and stored in a variable by</p>
<pre><code>Database.return_tfs()</code></pre>
<p>These transfer functions, multiplied with the structural surface velocity at the source nodes can then be superposed to generate the total sound pressure at the receiver points. Alternatively, the surface normal velocity at the source nodes can be provided in</p>
<pre><code>Database.superpose(Vn)</code></pre>
<p>and the sound pressure at the receiver nodes is calculated automatically by multiplication and superposition. Vn must be a four-dimensional array of the the shape <code>n_f x n_k x n_in x n_source</code> where <code>n_f</code> is the number of frequency bins in the spectrum, <code>n_k</code> is the number of wavenumbers at each frequency line, <code>n_in</code> can be different load cases, e.g.Â vertical and lateral load or different nodes, and <code>n_source</code> should be equivalent to the number of source nodes in the database.</p>
<p>The method</p>
<pre><code>Database.save_to_mat(filepath)</code></pre>
<p>saves the entire database to a .mat (MATLAB-compatible) file at the given filename/-path. The function</p>
<pre><code>load_from_mat(filename)</code></pre>
<p>then reads a previously saved database file from the .mat file.</p>
<h2 id="the-geometries">The geometries</h2>
<p>The acoustic transfer functions have as of now been pre-calculated for four geometries. Each of the geometries are described by their source nodes and receiver nodes. The location and index of each node is displayed in the associated figures. The receiver nodes are displayed in black and the CHIEF points used in the BE-formulation are displayed in red. The source nodes are either orange or blue.</p>
<ol type="1">
<li>A UIC60 rail geometry in an acoustic free field,</li>
<li>A UIC60 rail geometry in an acoustic half-space with an acoustically hard boundary condition 5 cm below the foot of the rail,</li>
<li>A UIC60 rail with 5 cm distance to the top of a flat track surface,</li>
<li>A UIC60 rail with 5 cm distance to the top of a flat track surface and below an approximated hull of a passenger train,</li>
</ol>
